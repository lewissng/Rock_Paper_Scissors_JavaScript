<!DOCTYPE html>
<html>

<head>
    <title>Rock Paper Scissor</title>
    <meta charset="UTF-8" />
</head>

<body>
    <script>

        //initiate random rock paper scissor selection for computer
        function computerPlay() {
            const rockPaperScissor = ["Rock", "Paper", "Scissor"];
            const random = Math.floor(Math.random() * rockPaperScissor.length);
            const randomThrow = rockPaperScissor[random];
            return randomThrow;
        }

        //win lose counters
        let win = 0;
        let lose = 0;


        //initiate one round of rock paper scissor
        function playRound(playerSelection, computerSelection) {
            let result;

            if (computerSelection == "Rock") {
                result = rockCheck(playerSelection);
            } else if (computerSelection == "Paper") {
                result = paperCheck(playerSelection);
            } else if (computerSelection == "Scissor") {
                result = scissorCheck(playerSelection);
            }
            return result;

        }




        //check players selection against computers rock selection
        function rockCheck(playerThrow) {
            let result;

            if (playerThrow == "scissor") {
                result = "You lose, Rock beats scissor";
                lose++;
            } else if (playerThrow == "paper") {
                result = "You win, Paper beats rock";
                win++;
            } else {
                result = "Draw"
            }
            return result;

        }

        //check players selection against computers paper selection
        function paperCheck(playerThrow) {
            let result;

            if (playerThrow == "scissor") {
                result = "You win, Scissor beats paper";
                win++;
            } else if (playerThrow == "rock") {
                result = "You lose, Paper beats rock";
                lose++;
            } else {
                result = "Draw"
            }
            return result;

        }

        //Check players selection against computers scissor selection
        function scissorCheck(playerThrow) {
            let result;

            if (playerThrow == "rock") {
                result = "You win, Rock beats scissor";
                win++;
            } else if (playerThrow == "paper") {
                result = "You lose, Scissor beats paper";
                lose++;
            } else {
                result = "Draw"
            }
            return result;

        }

        //initiate game of 5 round of rock paper scissor
        function game() {
            let round = 0;


            while (round < 5) {
                let playerInput = prompt("Rock, Paper, Scissor");

                if (playerInput === null) {
                    console.log("You have cancelled the game");
                    break;

                } else if (playerInput == "rock" || playerInput == "paper" || playerInput == "scissor") {

                    const playerSelection = playerInput.toLowerCase();
                    const computerSelection = computerPlay();
                    console.log(playRound(playerSelection, computerSelection));
                    round++;
                } else {
                    console.log("Invalid choice");
                }
            }

            //win lose counter
            if (win > lose) {
                console.log("You won the game");
            } else if (lose > win) {
                console.log("Computer won the game");
            } else if (win == lose) {
                console.log("It's a tie");
            }

        }

        //run game of rock paper scissor
        game();

    </script>
</body>

</html>